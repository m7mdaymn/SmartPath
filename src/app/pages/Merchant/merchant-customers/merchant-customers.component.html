<div class="customers-page" dir="rtl">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <h1>ุฅุฏุงุฑุฉ ุงูุนููุงุก</h1>
      <div class="header-actions">
        <div class="search-box">
          <input type="text" 
                 [(ngModel)]="searchTerm"
                 (input)="filterCustomers()"
                 placeholder="ุงุจุญุซ ุนู ุนููู...">
        </div>
        <button class="add-btn" (click)="openAddCustomerModal()">
          <span>+</span> ุนููู ุฌุฏูุฏ
        </button>
      </div>
    </div>
  </div>

  <!-- Stats Summary -->
  <div class="stats-summary">
    <div class="stat">
      <span class="stat-value">{{ totalCustomers }}</span>
      <span class="stat-label">ุฅุฌูุงูู ุงูุนููุงุก</span>
    </div>
    <div class="stat">
      <span class="stat-value">{{ activeCustomers }}</span>
      <span class="stat-label">ูุดุทูู</span>
    </div>
    <div class="stat">
      <span class="stat-value">{{ pendingRewards }}</span>
      <span class="stat-label">ููุงูุขุช ููุฏ ุงูุงูุชุธุงุฑ</span>
    </div>
  </div>

  <!-- Customers Table -->
  <div class="customers-table">
    <div *ngIf="filteredCustomers.length > 0">
      <div class="table-header">
        <div class="col-photo">ุงูุตูุฑุฉ</div>
        <div class="col-name">ุงูุงุณู</div>
        <div class="col-phone">ุงูุฌูุงู</div>
        <div class="col-progress">ุงูุชูุฏู</div>
        <div class="col-time">ุงูููุช ุงููุชุจูู</div>
        <div class="col-status">ุงูุญุงูุฉ</div>
        <div class="col-actions">ุงูุฅุฌุฑุงุกุงุช</div>
      </div>

      <div class="table-body">
        <div class="customer-row" *ngFor="let customer of filteredCustomers">
          <div class="col-photo">
            <div class="customer-photo" [ngClass]="{ 'has-photo': customer.carPhoto }">
              <span *ngIf="!customer.carPhoto">๐</span>
              <img *ngIf="customer.carPhoto" [src]="customer.carPhoto" alt="Car">
            </div>
          </div>
          
          <div class="col-name">
            <h4>{{ customer.name }}</h4>
            <small class="join-date">ููุฐ {{ customer.joinDate }}</small>
          </div>
          
          <div class="col-phone">
            <span class="phone-number">{{ customer.phone }}</span>
          </div>
          
          <div class="col-progress">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="getProgress(customer)"></div>
            </div>
            <span class="progress-text">{{ customer.currentWashes }} / {{ customer.totalWashesRequired }}</span>
          </div>
          
          <div class="col-time">
            <span class="time-badge" [ngClass]="getTimeClass(customer.daysLeft)">
              {{ customer.daysLeft }} ููู
            </span>
          </div>
          
          <div class="col-status">
            <span class="status-badge" [ngClass]="customer.status">
              {{ getStatusText(customer.status) }}
            </span>
          </div>
          
          <div class="col-actions">
            <button class="action-btn view" (click)="viewCustomer(customer)">
              ๐๏ธ
            </button>
            <button class="action-btn record" (click)="recordWash(customer)">
              ๐
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredCustomers.length === 0" class="empty-state">
      <div class="empty-icon">๐ค</div>
      <h3>ูุง ููุฌุฏ ุนููุงุก</h3>
      <p>ุงุจุฏุฃ ุจุฅุถุงูุฉ ุนููู ุฌุฏูุฏ</p>
      <button class="add-btn" (click)="openAddCustomerModal()">
        ุฅุถุงูุฉ ุฃูู ุนููู
      </button>
    </div>
  </div>
</div>