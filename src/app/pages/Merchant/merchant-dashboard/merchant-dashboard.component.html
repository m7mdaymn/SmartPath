<!-- merchant-dashboard.component.html -->
<div class="merchant-dashboard" dir="rtl">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="merchant-info">
        <div class="business-logo">
          <span class="logo-icon">๐ข</span>
        </div>
        <div class="merchant-details">
          <h1>{{ merchantData.businessName }}</h1>
          <div class="merchant-meta">
            <span class="location">๐ {{ merchantData.city }}</span>
            <span class="plan-badge" [ngClass]="merchantData.plan">
              {{ merchantData.plan === 'pro' ? 'ุจุงูุฉ Pro' : 'ุจุงูุฉ Basic' }}
            </span>
          </div>
        </div>
      </div>
      
      <div class="header-actions">
        <button class="action-btn scan-btn" (click)="scanQR()">
          ๐ท ูุณุญ QR
        </button>
        <button class="action-btn settings-btn" (click)="navigateTo('settings')">
          โ๏ธ ุงูุฅุนุฏุงุฏุงุช
        </button>
      </div>
    </div>
  </header>

  <!-- Quick Stats -->
  <section class="quick-stats">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">๐ฅ</div>
        <div class="stat-content">
          <h3>ุงูุนููุงุก</h3>
          <p class="stat-value">{{ dashboardStats.totalCustomers }}</p>
          <p class="stat-trend positive">+{{ dashboardStats.newCustomersToday }} ุฌุฏูุฏ</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">๐</div>
        <div class="stat-content">
          <h3>ุบุณูุงุช ุงูููู</h3>
          <p class="stat-value">{{ dashboardStats.washesToday }}</p>
          <p class="stat-trend">{{ getTimeAgo(dashboardStats.lastWashTime) }}</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">๐ฐ</div>
        <div class="stat-content">
          <h3>ุงูุฅูุฑุงุฏุงุช</h3>
          <p class="stat-value">{{ dashboardStats.todayRevenue | number }}</p>
          <p class="stat-label">ุฑูุงู ุณุนูุฏู</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">๐</div>
        <div class="stat-content">
          <h3>ุงูููุงูุขุช</h3>
          <p class="stat-value">{{ dashboardStats.rewardsGiven }}</p>
          <p class="stat-trend">{{ dashboardStats.pendingRewards }} ููุฏ ุงูุงูุชุธุงุฑ</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Actions -->
  <section class="quick-actions">
    <h2 class="section-title">ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ</h2>
    <div class="actions-grid">
      <button class="action-card" (click)="addCustomer()">
        <div class="action-icon">โ</div>
        <h3>ุฅุถุงูุฉ ุนููู</h3>
        <p>ุณุฌู ุนููู ุฌุฏูุฏ</p>
      </button>

      <button class="action-card" (click)="viewCustomers()">
        <div class="action-icon">๐ฅ</div>
        <h3>ุงูุนููุงุก</h3>
        <p>ุฅุฏุงุฑุฉ ูุงุฆูุฉ ุงูุนููุงุก</p>
      </button>

      <button class="action-card" (click)="scanQR()">
        <div class="action-icon">๐ท</div>
        <h3>ูุณุญ QR</h3>
        <p>ุณุฌู ุบุณูุฉ ุฌุฏูุฏุฉ</p>
      </button>

      <!-- <button class="action-card" (click)="viewReports()">
        <div class="action-icon">๐</div>
        <h3>ุงูุชูุงุฑูุฑ</h3>
        <p>ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช</p>
      </button> -->
    </div>
  </section>

  <!-- Recent Activity -->
  <section class="recent-activity">
    <div class="section-header">
      <h2 class="section-title">ุงููุดุงุท ุงูุฃุฎูุฑ</h2>
      <button class="view-all" (click)="viewAllActivity()">ุนุฑุถ ุงููู โ</button>
    </div>

    <div class="activity-list">
      <div class="activity-item" *ngFor="let activity of recentActivity">
        <div class="activity-icon" [ngClass]="activity.type">
          <span>{{ activity.type === 'wash' ? '๐' : 
                   activity.type === 'customer' ? '๐ค' : 
                   activity.type === 'reward' ? '๐' : '๐ฐ' }}</span>
        </div>
        <div class="activity-content">
          <h4>{{ activity.title }}</h4>
          <p>{{ activity.description }}</p>
          <span class="activity-time">{{ activity.time }}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Loyalty Status -->
  <section class="loyalty-status">
    <h2 class="section-title">ุญุงูุฉ ุงูููุงุก</h2>
    <div class="loyalty-card">
      <div class="loyalty-header">
        <h3>ุฅุนุฏุงุฏุงุช ุจุฑูุงูุฌ ุงูููุงุก</h3>
        <button class="edit-btn" (click)="editLoyaltySettings()">ุชุนุฏูู</button>
      </div>
      
      <div class="loyalty-details">
        <div class="detail">
          <span class="label">ุงูููุงูุฃุฉ:</span>
          <span class="value">{{ loyaltySettings.rewardName }}</span>
        </div>
        <div class="detail">
          <span class="label">ุงูุบุณูุงุช ุงููุทููุจุฉ:</span>
          <span class="value">{{ loyaltySettings.washesRequired }}</span>
        </div>
        <div class="detail">
          <span class="label">ุงููุฏุฉ:</span>
          <span class="value">{{ loyaltySettings.timePeriod }} ููู</span>
        </div>
      </div>
    </div>
  </section>
</div>